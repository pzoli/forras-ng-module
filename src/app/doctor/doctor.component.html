<p-toast />
<p-confirmDialog />

<p-table [value]="doctors" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
    <tr>
      <th></th>
      <th>id</th>
      <th>Name</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-doctor>
    <tr>
      <td><p-button (onClick)="currentDoctor = doctor; showDialog()" label="Modify" /><p-button (onClick)="confirm(doctor)" label="Remove" /></td>
      <td>{{ doctor.id }}</td>
      <td>{{ doctor.name }}</td>
    </tr>
  </ng-template>
</p-table>

<p-button (onClick)="createNewDoctor(); displayDialog=true">Create</p-button>

<p-dialog header="Edit Doctor" [modal]="true" [(visible)]="displayDialog" [style]="{ width: '25rem' }" (onHide)="displayDialog = false">
  <span class="p-text-secondary block mb-5">Update doctor.</span>
  <div class="flex align-items-center gap-3 mb-3">
    <label for="name" class="font-semibold w-6rem">Name</label>
    <input pInputText id="name" class="flex-auto" autocomplete="off" [(ngModel)]="currentDoctor.name"/>
  </div>
  <div class="flex justify-content-end gap-2">
    <p-button label="Cancel" severity="secondary" (onClick)="displayDialog = false" />
    <p-button label="Save" (onClick)="displayDialog = false; saveCurrentDoctor()" />
  </div>
</p-dialog>
